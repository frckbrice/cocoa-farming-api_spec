get:
  tags:
    - Markets
  summary: Get all markets
  operationId: getAllMarkets
  description: Retrieve all markets. Only administrators can use this operation.
  security:
    - BearerAuth: []
  responses:
    "200":
      description: List of markets retrieved successfully
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: "../../components/schemas/market.yaml"
          example:
            - id: "clh1234567890abcdef"
              company_id: "clh1234567890abcdef"
              start_date: "2024-01-15T08:00:00Z"
              end_date: "2024-01-15T18:00:00Z"
              market_number: 1
              status: "open"
              product_quantity: 500
              created_at: "2024-01-15T10:30:00Z"
              updated_at: "2024-01-15T10:30:00Z"
    "401":
      $ref: "../../components/responses/UnauthorizedError.yaml"
    "403":
      $ref: "../../components/responses/ForbiddenError.yaml"
    "500":
      $ref: "../../components/responses/ServerError.yaml"

post:
  tags:
    - Markets
  summary: Create a market
  operationId: createMarket
  description: Create a market. This information is used in the company dashboard to display all markets. Only administrators can use this operation.
  security:
    - BearerAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: "../../components/schemas/market.yaml"
        example:
          company_id: "clh1234567890abcdef"
          start_date: "2024-01-15T08:00:00Z"
          end_date: "2024-01-15T18:00:00Z"
          market_number: 1
          status: "open"
          product_quantity: 500
  responses:
    "201":
      description: Market created successfully
      content:
        application/json:
          schema:
            $ref: "../../components/schemas/market.yaml"
          example:
            id: "clh1234567890abcdef"
            company_id: "clh1234567890abcdef"
            start_date: "2024-01-15T08:00:00Z"
            end_date: "2024-01-15T18:00:00Z"
            market_number: 1
            status: "open"
            product_quantity: 500
            created_at: "2024-01-15T10:30:00Z"
            updated_at: "2024-01-15T10:30:00Z"
    "400":
      $ref: "../../components/responses/ValidationError.yaml"
    "401":
      $ref: "../../components/responses/UnauthorizedError.yaml"
    "403":
      $ref: "../../components/responses/ForbiddenError.yaml"
    "500":
      $ref: "../../components/responses/ServerError.yaml"
