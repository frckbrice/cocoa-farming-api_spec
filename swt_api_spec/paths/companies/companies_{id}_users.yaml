# Get users of a company
get:
  tags:
    - Companies
  summary: Get company users
  description: |
    Retrieve a list of all users belonging to a company.
    Supports pagination. Only ADG, PDG or admins can use this operation.
  operationId: getCompanyUsers
  security:
    - BearerAuth: []
  parameters:
    - in: path
      name: id
      description: Company ID
      required: true
      schema:
        type: string
        format: cuid
        example: "clh1234567890abcdef"
      style: simple
    - $ref: "../../components/parameters/PaginationLimit.yaml"
    - $ref: "../../components/parameters/PaginationOffset.yaml"
  responses:
    "200":
      description: List of company users
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: "../../components/schemas/user.yaml"
              meta:
                type: object
                properties:
                  total:
                    type: integer
                    example: 42
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 20
          example:
            data:
              - id: "clh1234567890abcdef"
                email: "user@example.com"
                first_name: "John"
                last_name: "Doe"
                role: "EMPLOYEE"
                company_id: "clh1234567890abcdef"
                is_active: true
                created_at: "2024-01-15T10:30:00Z"
                updated_at: "2024-01-15T10:30:00Z"
              - id: "clh9876543210fedcba"
                email: "jane@example.com"
                first_name: "Jane"
                last_name: "Smith"
                role: "AUDITOR"
                company_id: "clh1234567890abcdef"
                is_active: true
                created_at: "2024-02-01T08:00:00Z"
                updated_at: "2024-02-01T08:00:00Z"
            meta:
              total: 2
              page: 1
              limit: 20
    "401":
      $ref: "../../components/responses/UnauthorizedError.yaml"
    "403":
      $ref: "../../components/responses/ForbiddenError.yaml"
    "404":
      description: Company not found
      content:
        application/json:
          schema:
            $ref: "../../components/schemas/error.yaml"
          example:
            error: "Not Found"
            message: "Company with the specified ID was not found."
            code: "COMPANY_NOT_FOUND"
            statusCode: 404
            path: "/companies/clh1234567890abcdef/users"
    "500":
      $ref: "../../components/responses/ServerError.yaml"
